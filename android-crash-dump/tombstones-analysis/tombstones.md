* 崩溃信息：

```
signal 7 (SIGBUS), code 2 (BUS_ADRERR), fault addr 0x70c69998
    ...
backtrace:
    #00 pc 00000000002e6957  /system/framework/x86_64/boot-core-libart.oat (offset 0xd4000) (java.lang.Daemons$FinalizerWatchdogDaemon.waitForFinalization+135)
    ...
    #11 pc 0000000000027745  /system/lib64/libc.so (__bionic_clone+53)
```

* oatdump 导出 oat 文件中 机器码和字节码

	```
	oatdump --oat-file=/system/framework/x86_64/boot-core-libart.oat --output=/data/libart.txt
	```
	
* 根据 0x2e6957 找到对应汇编行数，pc 和 导出来的oat文件有 0x1000 的偏移(因为 oat 文件有个 elf 的外壳，这个 0x1000(4k) 就是壳的大小)，0x2e5957(pc-0x1000) 对应的代码是真实的崩溃点：

	```
	10: java.lang.Object java.lang.Daemons$FinalizerWatchdogDaemon.waitForFinalization() (dex_method_idx=12012)
   DEX CODE:
    ... 
	CODE: (code_offset=0x002e58d0 size_offset=0x002e58cc size=451)...
	...
	0x002e5957:   FF5728   call [rdi + 40]
	``` 
	
* rdi 指向的内存数据，都没了，难怪报错：

	```
	memory near rdi:
    0000000070c69950 ---------------- ----------------  ................
    0000000070c69960 ---------------- ----------------  ................
    0000000070c69970 ---------------- ----------------  ................
    0000000070c69980 ---------------- ----------------  ................
    0000000070c69990 ---------------- ----------------  ................
    0000000070c699a0 ---------------- ----------------  ................
    0000000070c699b0 ---------------- ----------------  ................
    0000000070c699c0 ---------------- ----------------  ................
    0000000070c699d0 ---------------- ----------------  ................
    0000000070c699e0 ---------------- ----------------  ................
    0000000070c699f0 ---------------- ----------------  ................
    0000000070c69a00 ---------------- ----------------  ................
    0000000070c69a10 ---------------- ----------------  ................
    0000000070c69a20 ---------------- ----------------  ................
    0000000070c69a30 ---------------- ----------------  ................
    0000000070c69a40 ---------------- ----------------  ................
	```
	
* 但为什么不是 SIGSEG 地址错误呢？这个地址对应的数据本应是 boot-core-libart.art 的文件内容：

	```
	memory map (1486 entries):
	(fault address prefixed with --->)
	--->00000000'70beb000-00000000'70caffff rw-         0     c5000  /data/dalvik-cache/x86_64/system@framework@boot-core-libart.art
	```
	
	/data 是通过 mfs mount 过来的， mfs 掉线导致在page in的时候找不到对应的文件了，对于这种情况报的是 SIGBUS 错误：
	
	[引用](https://en.wikipedia.org/wiki/Bus_error)
	
	```
	Paging errors
FreeBSD, Linux and Solaris can signal a bus error when virtual memory pages cannot be paged in, e.g. because it has disappeared (e.g. accessing a memory-mapped file or executing a binary image which has been truncated while the program was running),[2] or because a just-created memory-mapped file cannot be physically allocated, because the disk is full.
	```